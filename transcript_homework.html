<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Transcript ‚Äî Homework Listening</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .line-number { display:inline-block; background:#1e66d6; color:white; border-radius:50%; width:24px; height:24px; text-align:center; line-height:24px; margin-left:8px; font-size:12px; vertical-align:middle; }
    </style>
</head>
<body>
    <div class="page-nav">
        <a class="nav-btn" href="homework.html">‚Üê Back</a>
    </div>

    <h1 class="page-title">Transcript ‚Äî Homework Listening</h1>

    <!-- Audio Player Section (match transcript.html organization) -->
    <div class="audio-section" style="margin: 20px;">
        <div class="audio-controls">
            <h3>üéß Audio Player</h3>
            <audio id="audioPlayer" controls>
                <source src="audiohw.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <div class="speed-controls">
                <label>Playback Speed:</label>
                <div class="speed-buttons">
                    <button class="speed-btn" data-speed="0.5">0.5x</button>
                    <button class="speed-btn" data-speed="0.75">0.75x</button>
                    <button class="speed-btn" data-speed="1">1.0x</button>
                    <button class="speed-btn active" data-speed="1.25">1.25x</button>
                    <button class="speed-btn" data-speed="1.5">1.5x</button>
                    <button class="speed-btn" data-speed="1.75">1.75x</button>
                    <button class="speed-btn" data-speed="2">2.0x</button>
                </div>
            </div>
        </div>
    </div>

    <div class="transcript-container" id="transcript-container">
        <!-- Left Column: Transcript -->
        <div class="transcript-section" id="transcript-section">
            <h2>Transcript</h2>
            <div class="transcript-content">
                <p>Producing enough energy to meet our needs has become a serious problem. Demand is rising rapidly, <span id="tline1" class="text-highlight">because of the world‚Äôs increasing population and expanding industry.</span><span class="line-number">1</span> Burning fossil fuels, like gas, coal and oil, seriously damages the environment and they‚Äôll eventually run out. For a number of years now, scientists have been working out how we can derive energy from renewable sources, such as the sun and wind, without causing pollution. Today I‚Äôll outline marine renewable energy ‚Äì also called ocean energy ‚Äì which harnesses the movement of the oceans.</p>
                <p>Marine renewable energy can be divided into three main categories: wave energy, tidal energy and ocean thermal energy conversion, and I‚Äôll say a few words about each one.</p>
                <p>First, wave energy. Numerous devices have been invented to harvest wave energy, with names such as Wave Dragon, the Penguin and Mighty Whale, and research is going on to try and come up with a really efficient method. <span id="tline2" class="text-highlight">This form of energy has plenty of potential, as the source is constant</span><span class="line-number">2</span>, and there‚Äôs no danger of waves coming to a standstill. Electricity can be generated using onshore systems, using a reservoir, or offshore systems. <span id="tline3" class="text-highlight">But the problem with ocean waves is that they‚Äôre erratic, with the wind making them travel in every direction.</span><span class="line-number">3</span> This adds to the difficulty of creating efficient technology: ideally all the waves would travel smoothly and regularly along the same straight line. <span id="tline4" class="text-highlight">Another drawback is that sand and other sediment on the ocean floor might be stopped from flowing normally</span><span class="line-number">4</span>, which can lead to environmental problems.</p>
                <hr>
                <p>The second category of marine energy that I‚Äôll mention is tidal energy. <span id="tline5" class="text-highlight">One major advantage of using the tide, rather than waves, as a source of energy is that it‚Äôs predictable</span><span class="line-number">5</span>: we know the exact time of high and low tides for years to come.</p>
                <p>For tidal energy to be effective, the difference between high and low tides needs to be at least five metres, and this occurs naturally in only about forty places on Earth. But the right conditions can be created by constructing a tidal lagoon, an area of sea water separated from the sea.</p>
                <p>One current plan is to create a tidal lagoon on the coast of Wales. <span id="tline6" class="text-highlight">This will be an area of water within a bay at Swansea, sheltered by a U-shaped breakwater, or dam, built out from the coast.</span><span class="line-number">6</span> The breakwater will contain sixteen hydro turbines, and as the tide rises, water rushes through the breakwater, activating the turbines, which turn a generator to produce electricity. Then, for three hours as the tide goes out, the water is held back within the breakwater, increasing the difference in water level, until it‚Äôs several metres higher within the lagoon than in the open sea. <span id="tline7" class="text-highlight">Then, in order to release the stored water, gates in the breakwater are opened.</span><span class="line-number">7</span> It pours powerfully out of the lagoon, driving the turbines in the breakwater in the opposite direction and again generating thousands of megawatts of electricity. As there are two high tides a day, this lagoon scheme would generate electricity four times a day, every day, for a total of around 14 hours in every 24 ‚Äì and enough electricity for over 150,000 homes.</p>
                <p>This system has quite a lot in its favour: unlike solar and wind energy it doesn‚Äôt depend on the weather; <span id="tline8" class="text-highlight">the turbines are operated without the need for fuel</span><span class="line-number">8</span>, so it doesn‚Äôt create any greenhouse gas emissions; and very little maintenance is needed. It‚Äôs estimated that electricity generated in this way will be relatively cheap, and that <span id="tline9" class="text-highlight">that manufacturing the components would create more than 2,000 jobs, a big boost to the local economy.</span><span class="line-number">9</span></p>
                <p><span id="tline10" class="text-highlight">On the other hand, there are fears that lagoons might harm both fish and birds, for example by disturbing migration patterns</span><span class="line-number">10</span>, and causing a build-up of silt, affecting local ecosystems.</p>
                <p>There are other forms of tidal energy, but I‚Äôll go on to the third category of marine energy: ocean thermal energy conversion. This depends on there being a big difference in temperature between surface water and the water a couple of kilometres below the surface, and this occurs in tropical coastal areas. The idea is to bring cold water up to the surface using a submerged pipe.</p>
            </div>
        </div>

        <!-- Resizer -->
        <div class="resizer" id="resizer"></div>

        <!-- Right Column: Notes / Questions -->
        <div class="answers-section" id="answers-section">
            <h2>Complete the notes</h2>
            <p class="instruction-text">Write ONE WORD ONLY for each answer. Use the audio player above.</p>

            <div class="questions-with-answers">
                <div class="notes-box">
                    <p class="notes-heading"><strong>Marine renewable energy (ocean energy)</strong></p>
                    <p class="notes-heading"><strong>Introduction</strong></p>
                    <p>More energy required because of growth in population and <input type="text" name="q1" class="answer-input" placeholder="ONE WORD ONLY"></p>
                    <p class="notes-heading">What‚Äôs needed:</p>
                    <p>renewable energy sources</p>
                    <p>methods that won‚Äôt create pollution</p>
                    <p class="notes-heading"><strong>Wave energy</strong></p>
                    <p>Advantage: waves provide a <input type="text" name="q2" class="answer-input" placeholder="ONE WORD ONLY"> source of renewable energy</p>
                    <p>Electricity can be generated using offshore or onshore systems</p>
                    <p>Onshore systems may use a reservoir</p>
                    <p class="notes-heading"><strong>Problems:</strong></p>
                    <p>waves can move in any <input type="text" name="q3" class="answer-input" placeholder="ONE WORD ONLY"> movement of sand, etc. on the <input type="text" name="q4" class="answer-input" placeholder="ONE WORD ONLY"> of the ocean may be affected</p>
                    <p class="notes-heading"><strong>Tidal energy</strong></p>
                    <p>Tides are more <input type="text" name="q5" class="answer-input" placeholder="ONE WORD ONLY"> than waves</p>
                    <p class="notes-heading">Planned tidal lagoon in Wales:</p>
                    <p>will be created in a <input type="text" name="q6" class="answer-input" placeholder="ONE WORD ONLY"> at Swansea</p>
                    <p>breakwater (dam) containing 16 turbines</p>
                    <p>rising tide forces water through turbines, generating electricity</p>
                    <p>stored water is released through <input type="text" name="q7" class="answer-input" placeholder="ONE WORD ONLY"> driving the turbines in the reverse direction</p>
                    <p class="notes-heading"><strong>Advantages:</strong></p>
                    <p>not dependent on weather</p>
                    <p>no <input type="text" name="q8" class="answer-input" placeholder="ONE WORD ONLY"> is required to make it work</p>
                    <p>likely to create a number of <input type="text" name="q9" class="answer-input" placeholder="ONE WORD ONLY"></p>
                    <p class="notes-heading"><strong>Problem:</strong></p>
                    <p>may harm fish and birds, for example by affecting <input type="text" name="q10" class="answer-input" placeholder="ONE WORD ONLY"> and building up silt</p>
                </div>

                <div class="button-group" style="margin-top:14px;">
                    <button class="submit-btn" onclick="checkListeningAnswers()">Check Answers</button>
                    <button class="reset-btn" onclick="resetListeningAnswers()">Reset</button>
                    <div id="result" class="result"></div>
                </div>
            </div>
        </div>
    </div>

<script>
// answers for the notes
const listeningAnswers = {
    q1: 'industry',
    q2: 'constant',
    q3: 'direction',
    q4: 'floor',
    q5: 'predictable',
    q6: 'bay',
    q7: 'gates',
    q8: 'fuel',
    q9: 'jobs',
    q10: 'migration'
};

function checkListeningAnswers() {
    let correct = 0;
    for (let i = 1; i <= 10; i++) {
        const name = `q${i}`;
        const el = document.querySelector(`input[name="${name}"]`);
        const ans = listeningAnswers[name];
        if (!el) continue;
        const raw = (el.value || '').toLowerCase().trim();
        const first = raw.split(/\s+/)[0] || '';
        if (first === ans.toLowerCase()) { el.style.backgroundColor = '#c8e6c9'; correct++; }
        else { el.style.backgroundColor = '#ffcdd2'; }
    }
    const resultDiv = document.getElementById('result');
    resultDiv.textContent = `You scored ${correct} of 10`;
    resultDiv.className = correct === 10 ? 'result success' : (correct >= 7 ? 'result partial' : 'result failed');
    resultDiv.style.display = 'block';

    // Save student answers for later review
    const saved = {};
    for (let i = 1; i <= 10; i++) {
        const el = document.querySelector(`input[name="q${i}"]`);
        if (el) saved[`q${i}`] = el.value;
    }
    try { localStorage.setItem('listeningAnswers', JSON.stringify(saved)); } catch(e) {}
}

function resetListeningAnswers() {
    document.querySelectorAll('.answer-input').forEach(i => { i.value = ''; i.style.backgroundColor = ''; });
    const r = document.getElementById('result'); if (r) r.style.display = 'none';
    try { localStorage.removeItem('listeningAnswers'); } catch(e) {}
}

// initialize audio speed buttons, restore saved answers and restore shared audio if present
window.addEventListener('load', function() {
    const audio = document.getElementById('audioPlayer');
    const speedButtons = document.querySelectorAll('.speed-btn');
    if (audio && speedButtons.length > 0) {
        speedButtons.forEach(button => {
            button.addEventListener('click', function() {
                const speed = parseFloat(this.getAttribute('data-speed'));
                audio.playbackRate = speed;
                speedButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
        });
    }

    // Load student answers from localStorage
    const savedAnswers = localStorage.getItem('listeningAnswers');
    if (savedAnswers) {
        const answers = JSON.parse(savedAnswers);
        for (let i = 1; i <= 10; i++) {
            const input = document.querySelector(`input[name="q${i}"]`);
            if (input && answers[`q${i}`]) input.value = answers[`q${i}`];
            // show student's answer and the correct answer beneath each item
            const parent = input ? input.closest('p') : null;
            if (parent) {
                // remove existing display if present
                const existing = parent.querySelector('.student-answer-block');
                if (existing) existing.remove();

                const block = document.createElement('div');
                block.className = 'student-answer-block';
                block.style.marginTop = '6px';
                block.style.fontSize = '0.95em';

                const studentSpan = document.createElement('span');
                studentSpan.className = 'answer-label';
                studentSpan.textContent = 'Your answer: ';
                const studentVal = document.createElement('span');
                studentVal.className = 'answer-value';
                studentVal.textContent = answers[`q${i}`] || '-';

                const correctSpan = document.createElement('span');
                correctSpan.className = 'answer-label';
                correctSpan.style.marginLeft = '12px';
                correctSpan.textContent = 'Answer: ';
                const correctVal = document.createElement('span');
                correctVal.className = 'answer-value';
                const correct = listeningAnswers[`q${i}`] || '';
                correctVal.textContent = correct;

                block.appendChild(studentSpan);
                block.appendChild(studentVal);
                block.appendChild(correctSpan);
                block.appendChild(correctVal);
                parent.appendChild(block);
            }
        }
    }

    // Restore shared audio (if user previously uploaded elsewhere)
    try {
        const data = localStorage.getItem('sharedAudioData');
        if (data && audio) {
            const srcEl = audio.querySelector('source');
            if (srcEl) { srcEl.src = data; audio.load(); }
            else { audio.src = data; audio.load(); }
        }
    } catch(e) {}
});
</script>
</body>
</html>
